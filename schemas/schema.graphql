extend schema
  @link(
    url: "https://specs.apollo.dev/federation/v2.0"
    import: ["@key", "@shareable"]
  )

type Query {
  allAgencies(
    first: Int
    after: String
    last: Int
    before: String
    limit: Int = 10
  ): AgencyConnection!
}

input PaginationInput {
  first: Int
  after: String
  last: Int
  before: String
}

type PageInfo @shareable {
  hasNextPage: Boolean!
  hasPreviousPage: Boolean!
  startCursor: String
  endCursor: String
}

type AgencyConnection {
  edges: [AgencyEdge!]!
  pageInfo: PageInfo
}

type AgencyEdge {
  cursor: String!
  node: Agency!
}

type Agency {
  id: ID!
  name: String
  url: String
  country: Country
}

type Country @key(fields: "code") {
  code: ID!
}
